---
import Category from "./Category.astro";

interface Props {
  projects: Array<{
    id: number;
    name: string;
    description: string;
    techStack: string[];
    link: string;
    imgPath: string;
  }>;
  projectsLink: string;
}

const { projects, projectsLink } = Astro.props;
---

<section>
  <div id="projects" class="py-4">
    <h2 class="py-2 text-xl font-semibold pb-8 xl:hidden">PROJECTS</h2>
    <div class="container">
      <div class="flex flex-col space-y-6 xl:relative group">
        {
          projects.map((project) => (
            <a
              class="grid xl:grid-cols-8 gap-4 transition  group-hover:opacity-40 hover:opacity-100! cursor-pointer group/title"
              onclick="event.stopPropagation()"
              href={project.link}
              target="_blank"
              rel="noopener noreferrer"
            >
              <div class="xl:col-span-2 max-w-2xs xl:max-w-s">
                <img src={project.imgPath} alt="" class="object-cover" />
              </div>
              <div class="rounded-lg flex flex-col justify-between  xl:col-span-6">
                <div>
                  <h3 class="mb-2 text-lg font-semibold group-hover/title:text-cyan-600">
                    {project.name}
                  </h3>
                  <p class="text-gray-700 mb-4">{project.description}</p>
                </div>
                <div class="flex flex-wrap gap-2 mb-4">
                  {project.techStack.map(
                    (tech: string) => tech && <Category tech={tech} />,
                  )}
                </div>
              </div>
            </a>
          ))
        }
      </div>
    </div>
  </div>
  <a
    href={projectsLink}
    target="_blank"
    rel="noopener noreferrer"
    class="font-semibold hover:text-cyan-600 xl:pl-1 text-xl transition-all duration-300"
  >
    View Full Project Archive â†’
  </a>
</section>
