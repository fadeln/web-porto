---
import Category from './Category.astro';

interface Props {
  projects: Array<{
    id: number;
    name: string;
    description: string;
    techStack: string[];
    link: string;
  }>;
}

const { projects } = Astro.props;
---

<section id="projects" class="py-20">
  <h2 class="py-2 text-xl font-semibold pb-8 sm:hidden">PROJECTS</h2>
  <div class="container">
    <div class="flex flex-col space-y-6 sm:relative">
      {projects.map((project) => (
        <div class="bg-white rounded-lg flex flex-col justify-between transition sm:p-5">
          <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
              {project.name}
            </h3>
            <p class="text-gray-700 mb-4">{project.description}</p>
          </div>
          <div class="flex flex-wrap gap-2 mb-4">
            {project.techStack.map((tech: string) => (
              tech && <Category tech={tech} />
            ))}
          </div>
        </div>
      ))}

      <a
        href="#"
        class="pt-2 font-semibold sm:absolute sm:bottom-0 sm:left-5"
      >
        View Full Project Archive â†’
      </a>
    </div>
  </div>
</section>